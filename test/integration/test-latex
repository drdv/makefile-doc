-v OUTPUT_FORMAT=latex -v COLOR_BACKTICKS=44 -v COLOR_SECTION=0 -v COLOR_DEPRECATED=0 -v EXPORT_THEME=FG:000000,34:7c3f00 test/Makefile.targets test/Makefile.targets-double-colon test/Makefile.targets-grouped test/Makefile.vars
WARNING: [test/Makefile.targets:8] redefined docs of target: t3
WARNING: [test/Makefile.vars:33] redefined docs of variable: VAR6
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{xcolor}
\usepackage{alltt}
\usepackage[top=0cm, bottom=0cm, left=0cm, right=0cm]{geometry}
\usepackage{varwidth}
\usepackage[active,tightpage]{preview}
\usepackage[normalem]{ulem}

\setlength{\fboxsep}{0pt}

\newcommand{\bgcolor}[2]{\colorbox{#1}{\vphantom{Ay}#2}}

\PreviewEnvironment{varwidth}

\definecolor{makefile-doc-fg}{HTML}{000000}
\definecolor{color-attention}{HTML}{dc322f}
\definecolor{color-section}{HTML}{000000}
\definecolor{color-deprecated}{HTML}{000000}
\definecolor{color-default}{HTML}{7c3f00}
\definecolor{color-warning}{HTML}{d33682}
\definecolor{color-backticks}{HTML}{268bd2}

\pagestyle{empty}
\begin{document}

\begin{varwidth}{\linewidth}
\color{makefile-doc-fg}

\begin{alltt}
-----------------------
Available targets:
-----------------------
\textcolor{color-default}{t1                   }   Top doc (take precedence over inline docs)
\textcolor{color-default}{t2                   }   Test inline docs without top docs
\textcolor{color-default}{t3                   }   This is a new rule with a doc
\textcolor{color-default}{t4                   }   Spaces before the ## token are allowed and stripped
                        top docs can have multiple lines
                          indentation can be used for emphasis
\textcolor{color-attention}{t5                   }   Use ##!exclamation markfor targets that are signifficant in some way
                        no need to have an exclamation mark for all lines

------ Section 1 -----

\textcolor{color-attention}{t6                   }   Attention (inline docs)
\textcolor{color-default}{t7                   }   Blank lines
                        between docs
                        are ignorred
\textcolor{color-default}{t8                   }   Can have inline docs after dependencies
\textcolor{color-default}{t9                   }   Can have inline docs after order-only dependencies
\textcolor{color-default}{t10                  }   Can have inline docs after target-specific variables
\textcolor{color-default}{t11                  }   We can use top docs when there is an inline command
t12                     This target is kept just in case
                        even though it is obsolete
                       
t13                     Deprecated target with inline doc

------ Section 2 -----

\textcolor{color-default}{%.tab.c %.tab.h      }   This is a pattern rule
\textcolor{color-default}{%.c                  }   Here is another one
\textcolor{color-default}{bin/%.o              }   And another one
\textcolor{color-default}{first    second third}   Three targets on one line
\textcolor{color-default}{$(TARGET-NAME)       }   Target from a variable in \bgcolor{color-backticks}{$()}
\textcolor{color-default}{$\{TARGET-NAME\}       }   Target from a variable in \bgcolor{color-backticks}{$\{\}}
\textcolor{color-default}{$T                   }   Target from a variable
\textcolor{color-default}{$(t1) $\{t2\} t3       }   Bug from issue #12
\textcolor{color-default}{result-$(1)-$2.html  }   Documentation of a family of targets (with two parameters)
                         + $1: month \{jan, ..., dec\}
                         + $2: country code \{fr, bg, jp, ...\}
\textcolor{color-default}{t14                  }   Target with spaces before and after
\textcolor{color-default}{t15                  }  
\textcolor{color-default}{t16                  }   No space needed
\textcolor{color-default}{t17                  }   Inline doc
\textcolor{color-default}{t18                  }   Another inline doc
\textcolor{color-default}{double-colon-A~1     }   This is the first double-colon target from group A
                        It has two lines of description
\textcolor{color-attention}{double-colon-B~1     }   group B first documented
\textcolor{color-default}{double-colon-B~2     }   group B second documented
\textcolor{color-default}{double-colon-A~2     }   This is the second double-colon target from group A
double-colon-B~3        group B third documented (deprecated)
\textcolor{color-default}{dc~1                 }   This is a top doc for dc~1
\textcolor{color-default}{dc~2                 }   dc~2 even if there is no recipe
\textcolor{color-default}{dc~3                 }   dc~3 if the user says so
\textcolor{color-default}{dc~4                 }   dc~4

 ----- Independent Targets -----

\textcolor{color-default}{first second         }   two targets
\textcolor{color-default}{a b                  }   other two targets

 ----- Grouped Targets -----

\textcolor{color-default}{me myself and I&     }   four grouped targets
\textcolor{color-default}{the show must go on& }   five grouped targets
\textcolor{color-default}{lonely&              }   a bit pointless grouping one target

 ----- Double-colon grouped Targets -----

\textcolor{color-default}{yes no&~1            }   two grouped targets with double-colon (recipe 1)
\textcolor{color-attention}{yes no&~2            }   two \{\bgcolor{color-backticks}{grouped}, \bgcolor{color-backticks}{targets}, \bgcolor{color-backticks}{with}, \bgcolor{color-backticks}{double-colon}\} (recipe 2)
yes no&~3               two grouped \{targets\} with double-colon (recipe 3)

 ----- This section in anchored on a target -----

some-target             some target (that will comsume the above section)

-----------------------
Command-line arguments:
-----------------------
\textcolor{color-default}{VAR1_1               }   First variable (with value)
\textcolor{color-default}{VAR1_0               }   First variable (without value)
\textcolor{color-default}{VAR2_1               }   Second variable (with value)
\textcolor{color-default}{VAR2_0               }   Second variable (without value)
\textcolor{color-default}{VAR3_1               }       Third variable (with value)
\textcolor{color-default}{VAR3_0               }       Third variable (without value)
\textcolor{color-default}{VAR4                 }   Top comment with value (to expand)
\textcolor{color-default}{VAR5                 }   Inline comment with value (to expand)

 ----- Will be associated with the next anchor (which happens to be a variable) -----

VAR6                    Overwrites previous docs for this variable (change to deprecated)
\textcolor{color-default}{x                    }   A one letter variable
\textcolor{color-default}{y                    }   A one letter variable inline docs
\textcolor{color-default}{.DEFAULT_GOAL        }   Default goal
-----------------------
\end{alltt}
\end{varwidth}
\end{document}
